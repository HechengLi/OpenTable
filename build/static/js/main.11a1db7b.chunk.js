(this["webpackJsonpopen-table"]=this["webpackJsonpopen-table"]||[]).push([[0],{145:function(t,e,n){},146:function(t,e,n){},147:function(t,e,n){},149:function(t,e,n){},150:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(36),i=n.n(c),u=n(59),s=(n(93),n(58)),o=n(2),l=(n(145),n(146),n(57)),f=r.a.lazy((function(){return n.e(3).then(n.bind(null,157))})),p=r.a.lazy((function(){return n.e(2).then(n.bind(null,158))}));var y=function(){return r.a.createElement("main",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(l.a,null)},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:f}),r.a.createElement(o.a,{path:"/:city",component:p})))))},d=n(17),b=n(83),g=n(38);var E=n(18),O=n(19);var h=Object(d.c)({city:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.city)return t;switch(e.type){case g.c:return Object.assign({},t,{loading:e.loading});case g.a:return Object.assign({},t,{cities:e.cities});case g.b:return Object.assign({},t,{expiry:e.expiry});default:return t}},restaurant:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O.e:return Object.assign({},t,Object(E.a)({},e.city,Object.assign({},t[e.city],{loading:e.loading})));case O.d:return Object.assign({},t,Object(E.a)({},e.city,Object.assign({},t[e.city],{index:e.index})));case O.f:var n=[];return Array.isArray(t[e.city].restaurants)&&(n=n.concat(t[e.city].restaurants.map((function(t){return Object.assign({},t)})))),n=n.concat(e.restaurants.map((function(t){return Object.assign({},t)}))),Object.assign({},t,Object(E.a)({},e.city,Object.assign({},t[e.city],{restaurants:n})));case O.a:return Object.assign({},t,Object(E.a)({},e.city,Object.assign({},t[e.city],{index:1,restaurants:[],expiry:(new Date).setMinutes((new Date).getMinutes()+1)})));case O.c:return Object.assign({},t,Object(E.a)({},e.city,Object.assign({},t[e.city],{expiry:e.expiry})));case O.b:return Object.assign({},t,Object(E.a)({},e.city,Object.assign({},t[e.city],{eol:e.eol})));default:return t}}}),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(149);var j,v=(j={city:{loading:!1,cities:[],expiry:0},restaurant:{}},Object(d.e)(h,j,m(Object(d.a)(b.a))));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:v},r.a.createElement("header",{className:"header"},"Open Table"),r.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},19:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return f}));var a="SET_LOADING",r="SET_INDEX",c="SET_RESTAURANTS",i="CLEAR_RESTAURANTS",u="SET_EXPIRY",s="SET_END_OF_LIST";function o(t,e){return{type:a,loading:e,city:t}}function l(t){return{type:i,city:t}}function f(t,e){return function(n){n(o(t,!0)),fetch("http://opentable.herokuapp.com/api/restaurants?city=".concat(t,"&page=").concat(e)).then((function(t){return t.json()})).then((function(a){n(function(t,e){return{type:c,restaurants:e,city:t}}(t,a.restaurants)),n(function(t,e){return{type:r,index:e,city:t}}(t,e+1)),n(function(t,e){return{type:u,expiry:e,city:t}}(t,(new Date).setMinutes((new Date).getMinutes()+1))),n(function(t,e){return{type:s,eol:e,city:t}}(t,0===a.restaurants.length)),n(o(t,!1))}))}}},38:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u}));var a="SET_LOADING",r="SET_CITIES",c="SET_EXPIRY";function i(t){return{type:a,loading:t}}function u(){return function(t){t(i(!0)),fetch("https://opentable.herokuapp.com/api/cities").then((function(t){return t.json()})).then((function(e){var n,a;t((n=e.cities,{type:r,cities:n})),t((a=(new Date).setMinutes((new Date).getMinutes()+5),{type:c,expiry:a})),t(i(!1))}))}}},57:function(t,e,n){"use strict";var a=n(0),r=n.n(a);n(147);e.a=function(){return r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement("div",{className:"spinner"}))}},84:function(t,e,n){t.exports=n(150)}},[[84,1,4]]]);
//# sourceMappingURL=main.11a1db7b.chunk.js.map